<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SENAL - Chatrooms list</title>
        <link href="/styles/main.css" rel="stylesheet" />
        <script src="/scripts/jquery.min.js"></script>
        <script src="/scripts/common_functions.js"></script>
        <script src="/socket.io/socket.io.js" defer></script>
        <script src="/scripts/scripts.js" defer></script>   
    </head>
    <body class="chatlistPage">
        <div class="chatlistPage__main">
            <!-- show personal info -->
            <div class="userInfo">
                <img class="icon"/>  
                <span class="userID userIDwUsername"></span>
                <div class="logout">Log Out</div>
                <div class="moreBtn">more</div>
            </div>

            <!-- create chatroom -->
            <p class="createChatBtn">New Chat</p>
            <div class="chatlistPage__createChat">
                <form id="createChat">
                    <p>Add your friend's' ID: e.g. john#315</p>
                    <input type="text" placeholder="john#315" pattern="[a-z0-9]+#[0-9]+" required id="username">
                    <input type="text" placeholder="chatroom name" required id="chatroomName" minlength="1" maxlength="32">
                    <button type="submit" class="button">create</button>
                </form>
                <div class="errorMsg"></div>
            </div>

            <!-- Chatroom list -->
            <ul id="chatlist"></ul>

            <!-- More options -->
            <div class="moreInfo">
                <div class="details">
                    <h3>Profile</h3>
                    <div class="moreInfo__icon">
                        <img class="icon"/>
                        <div class="overlay">Upload</div>
                    </div>
                    <div class="moreInfo__username">
                        <p>Your name:</p>
                        <textarea class="userID"></textarea>
                        <button class="updateNameBtn" disabled>Update</button>
                    </div>

                    <div class="close"><button class="closeBtn">close</button></div>
                </div>

                <form id="fileUpload" 
                        action='/users/addImage' 
                        method='post' 
                        encType="multipart/form-data">
                    <input name="profileImage" id="profileImageBtn" type="file" />
                    <button type="submit" class="button">Upload</button>
                </form>

                <form id="updateName">
                    <p>Username:</p>
                    <input required type="text" maxlength="32" minlength="1" name="username" pattern="[a-z0-9]+" id="update-username" placeholder="Enter username"></input>
                    <button type="submit" class="button">confirm</button>
                </form>
            </div>
        </div>
    </body>    
</html>